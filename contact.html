<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contact — Dr. Nikhilanand Arya</title>
  <meta name="description" content="Contact details of Dr. Nikhilanand Arya — Assistant Professor, IIIT Allahabad." />

  <!-- External CSS -->
  <link rel="stylesheet" href="styles.css" />
</head>

<body>

  <main class="container" role="main">

    <!-- LEFT COLUMN — SECTION BUTTONS -->
    <aside class="left-col" aria-label="Primary sections" style="text-align:left">
      <nav class="btn-list" aria-label="Site navigation">
        <a class="btn" href="index.html">Home</a>
        <a class="btn" href="research.html">Research</a>
        <a class="btn" href="journals.html">Journals</a>
        <a class="btn" href="conferences.html">Conferences</a>
        <a class="btn" href="teaching.html">Teaching</a>
        <a class="btn" href="lectures.html">Seminars / Lectures</a>
        <a class="btn" href="gallery.html">Gallery</a>
      </nav>
    </aside>

    <!-- CENTER COLUMN — CONTACT DETAILS ONLY -->
    <section class="main-scroll center" aria-labelledby="contact-heading" tabindex="0">

      <h1 id="contact-heading" style="margin-bottom:20px;">Contact Details</h1>

      <p class="bio">
        <strong>Assistant Professor</strong><br>
        Department of Information Technology<br>
        Indian Institute of Information Technology, Allahabad<br>
        Prayagraj, Uttar Pradesh, India, 211012
      </p>

      <p class="bio">
        <strong>Faculty Cabin:</strong> C. V. Raman Bhavan (CC-III), Room No. 5414<br>
        <strong>Office Phone:</strong> +91-532292-2274
      </p>

      <p class="bio">
        <strong>Official Email:</strong> <a href="mailto:narya@iiita.ac.in">narya@iiita.ac.in</a><br>
        <strong>Personal Email:</strong> <a href="mailto:nikhilaryan92@zohomail.in">nikhilaryan92@zohomail.in</a>
      </p>
	   <p class="bio">

      </p>
		<button id="download-cv-btn" style="padding:10px 14px;border-radius:8px;border:none;background:#0b76ef;color:white;cursor:pointer;">
					Download CV (PDF)
		</button>
    </section>

    <!-- RIGHT COLUMN — VERTICAL SOCIAL ICONS -->
    <aside class="right-col" style="text-align:right" aria-label="Social links">
      <div class="social-col">
        <a href="https://scholar.google.com/citations?user=hBf6EmgAAAAJ&amp;hl=en" target="_blank" aria-label="Google Scholar">
          <img src="./assets/icons/google.png" alt="Google Scholar">
        </a>
        <a href="https://www.linkedin.com/in/dr-nikhilanand-arya-785a5356/" target="_blank" aria-label="LinkedIn">
          <img src="./assets/icons/linkedin.png" alt="LinkedIn">
        </a>
        <a href="https://github.com/nikhilaryan92" target="_blank" aria-label="GitHub">
          <img src="./assets/icons/github.png" alt="GitHub">
        </a>
        <a href="https://x.com/nikhilaryan92" target="_blank" aria-label="Twitter">
          <img src="./assets/icons/twitter.png" alt="Twitter">
        </a>
        <a href="https://www.instagram.com/nikhil_aryan92/" target="_blank" aria-label="Instagram">
          <img src="./assets/icons/instagram.png" alt="Instagram">
        </a>
      </div>
    </aside>

  </main>

  <footer>
    © <span id="year"></span> Dr. Nikhilanand Arya — All rights reserved.
  </footer>


    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
<script>
/* Robust loader + sample usage.
   Save a local copy at ./assets/js/html2pdf.bundle.min.js as fallback if CDN is blocked. */
(async function () {
  function loadScript(src, attrs = {}) {
    return new Promise((resolve, reject) => {
      const s = document.createElement('script');
      s.src = src;
      for (const k in attrs) s.setAttribute(k, attrs[k]);
      s.onload = () => resolve(s);
      s.onerror = (e) => reject(new Error('Failed to load ' + src));
      document.head.appendChild(s);
    });
  }

  async function ensureHtml2pdf() {
    // Try CDN first
    const cdn = 'https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js';
    const local = './assets/js/html2pdf.bundle.min.js'; // ensure this file exists as fallback
    const attrs = {
      integrity: 'sha512-YcsIPZRnXnhgypKekJy5o+1OtSWT8gJtIhXCTITVEWilQoNqT9XyM54q9WlH0I1GtIsfRSAxEPPVPBJOCaO1ig==',
      crossorigin: 'anonymous',
      referrerpolicy: 'no-referrer'
    };

    // If already loaded, return immediately
    if (typeof html2pdf !== 'undefined') return;

    try {
      console.info('[loader] Attempting to load html2pdf from CDN...');
      await loadScript(cdn, attrs);
      console.info('[loader] html2pdf loaded from CDN.');
      return;
    } catch (cdnErr) {
      console.warn('[loader] CDN load failed:', cdnErr);
    }

    try {
      console.info('[loader] Attempting to load local fallback:', local);
      await loadScript(local);
      if (typeof html2pdf !== 'undefined') {
        console.info('[loader] html2pdf loaded from local fallback.');
        return;
      } else {
        throw new Error('local script loaded but html2pdf not defined');
      }
    } catch (localErr) {
      console.error('[loader] Local fallback failed:', localErr);
      throw new Error('Failed to load html2pdf (CDN + local fallback failed). Check network/CSP.');
    }
  }

  // Replace your existing click handler with this guarded version
  const btn = document.getElementById('download-cv-btn');
  if (!btn) {
    console.warn('download button not found (id=download-cv-btn)');
    return;
  }

  async function guardedOnClick(e) {
    try {
      btn.disabled = true;
      const originalText = btn.innerText;
      btn.innerText = 'Loading PDF library…';
      await ensureHtml2pdf(); // will throw if both attempts fail
      btn.innerText = 'Preparing PDF…';

      // === Put your existing CV-building + html2pdf call here ===
      // Example minimal test that converts the whole page body:
      await html2pdf().set({
        margin: [10,10,10,10],
        filename: 'test_html2pdf_ready.pdf',
        html2canvas: { scale: 2, useCORS: true, allowTaint: false },
        jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
      }).from(document.body).save();

      // restore button text
      btn.innerText = originalText;
      btn.disabled = false;
    } catch (err) {
      console.error('PDF generation aborted:', err);
      alert('Could not load html2pdf library: ' + err.message + '\n\nCheck console network tab or put a local copy at ./assets/js/html2pdf.bundle.min.js');
      btn.disabled = false;
      btn.innerText = 'Download CV (PDF)';
    }
  }

  // remove existing listeners if any, then attach guarded listener
  btn.replaceWith(btn.cloneNode(true));
  const newBtn = document.getElementById('download-cv-btn');
  newBtn.addEventListener('click', guardedOnClick);
})();
</script>


</body>

</html>
